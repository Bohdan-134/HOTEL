
import'./swiper/main.swiper.js'
import'./aos/aos.animation.js'
import'./module/check-form.js'
import'./vanilla/vanilla.js'
import'./gsap/gsap.animation.js'
import{swiperInit}from'./swiper/registration-login-swiper.js';const navigationList=document.querySelectorAll('.header-navigation__item a');navigationList.forEach(element=>{element.addEventListener('click',(e)=>{return e.preventDefault();})})
export const modalContentErrorHtml={content:'<div class="modal"><div class="messageForm__wrap"><p class="messageForm__text">Oops! Something went wrong</p></div></div>'}
const EMAIL_REGEXP=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/iu;const sendEmailForm=document.getElementById('sendEmail');const input=document.getElementById('input-send-mail');sendEmailForm.addEventListener('submit',(e)=>{e.preventDefault();if(isEmailValid(input.value))return openModal(modalContentErrorHtml.content);else return false})
function isEmailValid(value){return EMAIL_REGEXP.test(value);}
const btnPlayVideo=document.querySelectorAll('.btn-play-video');const modalContentHTML={watchVideo:'<div class="modal"><iframe width="700" height="400" src="https://www.youtube.com/embed/2oyvVhq48OA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>',mobileMenu:'<div class="modal" id="mobile-menu"><ul class="mobile-menu__list"><li class="mobile-menu__item"> <a href="#">Home</a></li><li class="mobile-menu__item"> <a href="#">Branch</a></li><li class="mobile-menu__item"> <a href="#">Search</a></li><li class="mobile-menu__item"> <a href="#">About Us</a></li><li class="mobile-menu__item"> <a href="#">Pages</a></li><li class="mobile-menu__item"> <a href="#">Blog</a></li></ul></div>',registration:`<div class="modal modal-registration-login"><div class="modal-registration-login-navigation"><button id="modal-registration" class="modal__button active">Registration</button><button id="modal-login" class="modal__button">Login</button></div><div class="swiper-container swiper-registration"><div class="swiper-wrapper"><div class="swiper-slide"><form class="registration-form"><input type="tel" placeholder="phone" class="ir-phone"><input type="password" placeholder="password" class="ir-password"><button class="registration-form__button">Registration</button></form></div><div class="swiper-slide"><form class="login-form"><input type="tel" placeholder="phone"><input type="password" placeholder="password"><button class="login-form__button">Login</button></form></div></div><div class="swiper-pagination"></div></div></div>`,}
btnPlayVideo.forEach(elem=>{elem.addEventListener('click',function(e){e.preventDefault();return openModal(modalContentHTML.watchVideo)})})
export function openModal(elem){const wrapModal=document.createElement('div');wrapModal.classList.add('modal-wrap');wrapModal.innerHTML=elem;document.body.append(wrapModal);wrapModal.addEventListener('click',closeModal)}
export function closeModal(e){const modalWrap=document.querySelector('.modal-wrap');const modal=document.querySelector('div.modal');const click=e.composedPath().includes(modal);if(!click){modalWrap.classList.add('animation-close-modal');setTimeout(()=>{modalWrap.remove();},1400)}}
const btnOpenMenu=document.getElementById('mobile-menu-open');btnOpenMenu.addEventListener('click',()=>openModal(modalContentHTML.mobileMenu));function validatePhoneInput(input){const phonePattern=/^\d{10}$/;const phoneNumber=input.value.trim();if(!phonePattern.test(phoneNumber)){input.classList.add('invalid');return false;}else{input.classList.remove('invalid');return true;}}
const btnRegistration=document.getElementById('btn-registration');btnRegistration.addEventListener('click',()=>{openModal(modalContentHTML.registration);swiperInit();const phoneInputR=document.querySelector('.ir-phone');phoneInputR.addEventListener('input',function(){validatePhoneInput(phoneInputR);});})